<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>12-Week Transformation Tracker</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        h2 {
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
            margin-top: 30px;
            color: #3498db;
        }
        .workout-day {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: #ecf0f1;
        }

        /* Responsive Table Fix: Wraps the table and allows horizontal scroll on small screens */
        .table-responsive {
            overflow-x: auto; 
            -webkit-overflow-scrolling: touch;
        }
        .workout-day table {
            width: 100%;
            min-width: 600px; /* Forces a minimum width to enable scrolling */
            border-collapse: collapse;
            margin-top: 10px;
        }
        .workout-day th, .workout-day td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }
        .workout-day th {
            background-color: #3498db;
            color: white;
            white-space: nowrap;
        }
        .workout-day input[type="text"] {
            width: 80px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        
        /* Progress Bar Styling */
        #progress-tracker {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background-color: #d1e7dd;
            border: 1px solid #a3cfb6;
            border-radius: 8px;
        }
        .week-checkbox {
            margin: 5px;
        }
        #progress-bar-container {
            height: 25px;
            background-color: #ccc;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        #progress-bar {
            height: 100%;
            width: 0%;
            background-color: #28a745; /* Green */
            text-align: center;
            line-height: 25px;
            color: white;
            font-weight: bold;
            transition: width 0.5s ease-in-out;
        }

        /* Generator Styles */
        .generator-section {
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }
        .meal-generator-1 {
            background-color: #fff3e0; 
            border: 2px solid #ff9800;
        }
        .meal-generator-2 {
            background-color: #e0f7fa; 
            border: 2px solid #00bcd4;
        }
        .meal-generator-3 {
            background-color: #f3e5f5; 
            border: 2px solid #9c27b0;
        }
        .generator-section h2 {
            color: inherit;
            border-bottom: 2px solid inherit;
        }
        .meal-prompt {
            margin-bottom: 15px;
            font-weight: bold;
        }
        .meal-prompt select {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 100%;
            margin-top: 5px;
        }
        #recipe-output, #meal1-output, #meal4-output {
            margin-top: 20px;
            padding: 15px;
            border: 1px dashed #757575;
            background-color: #ffffff;
            border-radius: 5px;
            min-height: 80px;
        }

        /* Chart Styling */
        #progress-chart {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #3498db;
            background-color: #e8f5e9;
            border-radius: 6px;
        }
        #progress-chart pre {
            white-space: pre-wrap;
            font-family: monospace;
            overflow-x: auto; /* Ensures chart itself can scroll if too wide */
        }
        /* Highlight Ab Circuit for clarity */
        .ab-circuit {
            background-color: #f0f8ff; /* Light blue highlight */
            font-style: italic;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üî• 12-Week Fitness Transformation Tracker</h1>

    <h2>üóìÔ∏è 12-Week Progress Tracker</h2>
    <div id="progress-tracker">
        <p>Check off each week as you complete it:</p>
        <div id="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <div id="week-checkboxes">
            </div>
    </div>

    <div class="generator-section meal-generator-1">
        <h2>ü•ö Meal 1: Daily Variety (Eggs & Toast)</h2>
        <p>Current Ingredients: Sourdough (50g), Philadelphia Lightest (30g), Egg Whites (275g), 3 Whole Eggs, Banana (100g)</p>
        <div class="meal-prompt">
            <label for="meal1-prep">How do you want your eggs?</label>
            <select id="meal1-prep" onchange="generateMeal1()">
                <option value="">-- Select Prep Style --</option>
                <option value="Scramble">Scrambled</option>
                <option value="FrenchToast">Sweet French Toast</option>
                <option value="SavoryToast">Savory Topping</option>
            </select>
        </div>
        <div id="meal1-output">
            <h4>Your Meal 1 Idea:</h4>
            <p>Select a prep style to generate a recipe idea!</p>
        </div>
    </div>

    <div class="generator-section meal-generator-2">
        <h2>üçú Meal 2 & 3: Daily Variety (Chicken/Pork)</h2>
        <p>M2: Chicken (225g), Rice (125g cooked), Veg (60kcal), Olive oil (5g) | M3: Pork (225g), Potatoes (320g), Green Veg (100g), Olive oil (5g)</p>
        <div class="meal-prompt">
            <label for="meal-selection">Which meal are you planning?</label>
            <select id="meal-selection" onchange="generateRecipe()">
                <option value="">-- Select a Meal --</option>
                <option value="M2">Meal 2 (Chicken & Rice)</option>
                <option value="M3">Meal 3 (Pork Mince & Potato)</option>
            </select>
        </div>
        <div class="meal-prompt">
            <label for="flavor-selection">What flavor are you craving?</label>
            <select id="flavor-selection" onchange="generateRecipe()">
                <option value="">-- Select a Flavor --</option>
                <option value="Savory">Savory / Earthy</option>
                <option value="Spicy">Spicy / Bold</option>
                <option value="Fresh">Fresh / Herby / Zesty</option>
            </select>
        </div>
        <div id="recipe-output">
            <h4>Your Custom Recipe:</h4>
            <p>Select a meal and a flavor to generate a recipe idea!</p>
        </div>
    </div>

    <div class="generator-section meal-generator-3">
        <h2>ü•£ Meal 4: Daily Variety (Protein Oats)</h2>
        <p>Current Ingredients: Oats (80g), Whey Protein (50g), Dark Chocolate (20g), Frozen Blueberries (100g)</p>
        <div class="meal-prompt">
            <label for="meal4-texture">What temperature/texture are you craving?</label>
            <select id="meal4-texture" onchange="generateMeal4()">
                <option value="">-- Select a Texture --</option>
                <option value="Hot">Hot / Cooked</option>
                <option value="Cold">Cold / Overnight</option>
                <option value="Baked">Baked / Cake-like</option>
            </select>
        </div>
        <div id="meal4-output">
            <h4>Your Meal 4 Idea:</h4>
            <p>Select a temperature/texture to generate your protein oats!</p>
        </div>
    </div>

    <h2>üèãÔ∏è Daily Workout Plan (Adjustable)</h2>
    <p>Use the input fields to track your sets, reps, and weight. **Scroll the table horizontally** on your iPhone to see all columns.</p>

    <div class="workout-day">
        <h3>Monday (Day 1) - Chest & Triceps</h3>
        <div class="table-responsive">
            <table>
                <thead>
                    <tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Weight (kg)</th><th>Rest (s)</th></tr>
                </thead>
                <tbody id="Mon-table">
                    </tbody>
            </table>
        </div>
    </div>

    <div class="workout-day">
        <h3>Wednesday (Day 3) - Back & Biceps</h3>
        <div class="table-responsive">
            <table>
                <thead>
                    <tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Weight (kg)</th><th>Rest (s)</th></tr>
                </thead>
                <tbody id="Wed-table">
                     </tbody>
            </table>
        </div>
    </div>

    <div class="workout-day">
        <h3>Friday (Day 5) - Legs & Abs + Cardio</h3>
        <div class="table-responsive">
            <table>
                <thead>
                    <tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Weight (kg)</th><th>Rest (s)</th></tr>
                </thead>
                <tbody id="Fri-table">
                     </tbody>
            </table>
        </div>
    </div>

    <div class="workout-day">
        <h3>Saturday (Day 6) - Arms Focus</h3>
        <div class="table-responsive">
            <table>
                <thead>
                    <tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Weight (kg)</th><th>Rest (s)</th></tr>
                </thead>
                <tbody id="Sat-table">
                     </tbody>
            </table>
        </div>
    </div>
    
    <h2>üìà Workout Progression Chart (Previous Week)</h2>
    <div id="progress-chart">
        <p>This chart compares your **current** planned stats to the **last time** you completed this workout. Click the button after a workout to update the comparison.</p>
        <div id="chart-output">
            <button onclick="compareWorkouts()">Show Last Week's Progression</button>
            <p>Complete a workout and update your inputs to see a comparison here!</p>
        </div>
    </div>


    <script>
        // --- DATA SETUP ---
        
        const WORKOUT_DATA = {
            Mon: [
                { name: "Dumbbell Incline bench press", sets: "4", reps: "8-10", weight: "12.5", rest: 90 },
                { name: "Dumbbell standing shoulder press", sets: "4", reps: "6-8", weight: "12.5", rest: 90 },
                { name: "Cable bent over chest fly", sets: "3", reps: "10-12", weight: "40", rest: 90 },
                { name: "Cuffed lateral raises", sets: "3", reps: "15-20", weight: "15", rest: 90 },
                { name: "Cable straight bar triceps pushdown", sets: "3", reps: "12-15", weight: "40", rest: 90 },
                { name: "Cable standing overhead triceps extension", sets: "3", reps: "15-20", weight: "20", rest: 90 },
                // --- AB CIRCUIT START (3 Rounds, 60s rest after all 3 exercises) ---
                { name: "CIRCUIT: Elbow plank", sets: "3", reps: "30-60s", weight: "BW", rest: "Cont." },
                { name: "CIRCUIT: Cable kneeling Crunch", sets: "3", reps: "15-20", weight: "Cable", rest: "Cont." },
                { name: "CIRCUIT: Lying straight leg raise", sets: "3", reps: "15-20", weight: "BW", rest: "60 (Circuit Rest)" }
                // --- AB CIRCUIT END ---
            ],
            Wed: [
                { name: "Lat Machine wide grip pulldown", sets: "4", reps: "10-12", weight: "50", rest: 90 },
                { name: "Barbell bent over row", sets: "4", reps: "5-8", weight: "40", rest: 90 },
                { name: "Cable seated row", sets: "4", reps: "10-12", weight: "35", rest: 90 },
                { name: "Barbell shrug", sets: "2", reps: "12-15", weight: "30", rest: 90 },
                { name: "Barbell bicep curl", sets: "3", reps: "10-15", weight: "15", rest: 90 },
                { name: "Cable single arm bicep curl", sets: "2", reps: "15-20", weight: "20", rest: 90 }
            ],
            Fri: [
                { name: "Machine seated leg curl", sets: "3", reps: "10-15", weight: "45", rest: 90 },
                { name: "Hack Squats", sets: "3", reps: "10-15", weight: "55", rest: 90 },
                { name: "Seated leg press", sets: "4", reps: "15-20", weight: "55", rest: 90 },
                { name: "Barbell romanian deadlift", sets: "2", reps: "10-15", weight: "20", rest: 90 },
                { name: "Machine seated calf raise", sets: "4", reps: "10-15", weight: "30", rest: 90 },
                { name: "Dumbbell walking lunge", sets: "1", reps: "Until Failure", weight: "10", rest: "-" },
                // --- AB CIRCUIT START (3 Rounds, 60s rest after all 3 exercises) ---
                { name: "CIRCUIT: Elbow plank", sets: "3", reps: "30-60s", weight: "BW", rest: "Cont." },
                { name: "CIRCUIT: Cable kneeling Crunch", sets: "3", reps: "15-20", weight: "Cable", rest: "Cont." },
                { name: "CIRCUIT: Lying straight leg raise", sets: "3", reps: "15-20", weight: "BW", rest: "60 (Circuit Rest)" },
                // --- AB CIRCUIT END ---
                { name: "30 mins Cardio (Bike, jog, swim etc.)", sets: "1", reps: "30 mins", weight: "N/A", rest: "-" }
            ],
            Sat: [
                { name: "Crossbody hammer curls", sets: "3", reps: "10-15", weight: "10", rest: 60 },
                { name: "EZ Bar preacher curl", sets: "3", reps: "8-10", weight: "10", rest: 60 },
                { name: "Barbell bicep curl", sets: "2", reps: "8", weight: "17.5", rest: 60 },
                { name: "Cable rope triceps extension", sets: "4", reps: "12", weight: "40", rest: 60 },
                { name: "Plate weighted dip", sets: "3", reps: "8-12", weight: "Body Weight", rest: 60 },
                { name: "Cable standing overhead triceps extension", sets: "3", reps: "15-20", weight: "20", rest: 60 }
            ]
        };
        
        // --- INITIALIZATION AND WEEKLY PROGRESS ---
        
        document.addEventListener('DOMContentLoaded', () => {
            initWeekCheckboxes();
            
            // Init Workout Tables
            initWorkoutTable('Mon', WORKOUT_DATA.Mon);
            initWorkoutTable('Wed', WORKOUT_DATA.Wed);
            initWorkoutTable('Fri', WORKOUT_DATA.Fri);
            initWorkoutTable('Sat', WORKOUT_DATA.Sat);
        });

        function initWeekCheckboxes() {
            const progressDiv = document.getElementById('week-checkboxes');
            let completedWeeks = 0;
            for (let i = 1; i <= 12; i++) {
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'week-checkbox';
                checkbox.id = `week-${i}`;
                checkbox.checked = localStorage.getItem(`week-${i}`) === 'true';
                
                if (checkbox.checked) completedWeeks++;

                checkbox.addEventListener('change', (e) => {
                    localStorage.setItem(`week-${i}`, e.target.checked);
                    updateProgressBar();
                });

                const label = document.createElement('label');
                label.htmlFor = `week-${i}`;
                label.textContent = `Week ${i}`;

                progressDiv.appendChild(checkbox);
                progressDiv.appendChild(label);
                if (i % 4 === 0 && i !== 12) {
                    progressDiv.appendChild(document.createElement('br'));
                }
            }
            updateProgressBar();
        }

        function updateProgressBar() {
            const totalWeeks = 12;
            const completedWeeks = Array.from(document.querySelectorAll('.week-checkbox')).filter(cb => cb.checked).length;
            const percentage = (completedWeeks / totalWeeks) * 100;

            const progressBar = document.getElementById('progress-bar');
            progressBar.style.width = `${percentage}%`;
            progressBar.textContent = `${completedWeeks} / 12 Weeks (${Math.round(percentage)}%)`;
        }

        // --- WORKOUT TABLE LOGIC ---

        function initWorkoutTable(day, data) {
            const tableBody = document.getElementById(`${day}-table`);
            data.forEach((exercise, index) => {
                const row = tableBody.insertRow();
                const id = `${day}-${index}`;
                
                // Add highlight class for circuit elements
                if (exercise.name.includes("CIRCUIT:")) {
                    row.classList.add('ab-circuit');
                }


                row.insertCell().textContent = exercise.name;
                
                // Sets
                row.insertCell().innerHTML = `<input type="text" value="${localStorage.getItem(`${id}-sets`) || exercise.sets}" id="${id}-sets" onchange="saveWorkoutData(this, '${id}-sets')">`;
                
                // Reps
                row.insertCell().innerHTML = `<input type="text" value="${localStorage.getItem(`${id}-reps`) || exercise.reps}" id="${id}-reps" onchange="saveWorkoutData(this, '${id}-reps')">`;
                
                // Weight
                row.insertCell().innerHTML = `<input type="text" value="${localStorage.getItem(`${id}-weight`) || exercise.weight}" id="${id}-weight" onchange="saveWorkoutData(this, '${id}-weight')">`;
                
                // Rest
                row.insertCell().textContent = exercise.rest;
            });
        }

        function saveWorkoutData(inputElement, key) {
            // Before saving, save the *old* value as "last week" data
            const lastWeekKey = key.replace(/-/g, '_') + '_last';
            
            // If there's an existing current value, save it to last week
            const currentValue = localStorage.getItem(key);
            if (currentValue) {
                 localStorage.setItem(lastWeekKey, currentValue);
            }
            
            // Save the new value
            localStorage.setItem(key, inputElement.value);
        }

        // --- PROGRESSION CHART LOGIC ---

        function compareWorkouts() {
            const chartOutput = document.getElementById('chart-output');
            let outputText = 'Day | Exercise | Sets | Reps | Weight\n';
            outputText += '----|----------|------|------|--------\n';
            
            ['Mon', 'Wed', 'Fri', 'Sat'].forEach(day => {
                const data = WORKOUT_DATA[day];
                data.forEach((exercise, index) => {
                    const id = `${day}-${index}`;
                    const keys = ['sets', 'reps', 'weight'];
                    let rowText = `${day} | ${exercise.name} |`;

                    let progressMade = false;
                    keys.forEach(key => {
                        const currentKey = `${id}-${key}`;
                        const lastKey = currentKey.replace(/-/g, '_') + '_last';

                        const current = localStorage.getItem(currentKey) || exercise[key];
                        const last = localStorage.getItem(lastKey) || exercise[key];
                        
                        let displayValue = current;

                        // Simple numeric comparison for progress tracking
                        if (!isNaN(parseFloat(current)) && !isNaN(parseFloat(last))) {
                            const currentNum = parseFloat(current);
                            const lastNum = parseFloat(last);

                            if (currentNum > lastNum) {
                                displayValue = `${current} ‚ñ≤`; // Improved
                                progressMade = true;
                            } else if (currentNum < lastNum) {
                                displayValue = `${current} ‚ñº`; // Decreased
                            }
                        } else if (current !== last && current.toLowerCase() !== last.toLowerCase()) {
                            // Non-numeric change
                            displayValue = `${current} *`;
                        }

                        rowText += ` ${displayValue} |`;
                    });

                    // Only show rows that had an improvement (‚ñ≤) or are a core lift/circuit element
                    if (progressMade || index < 2 || exercise.name.includes("CIRCUIT:")) { 
                        outputText += rowText + '\n';
                    }
                });
            });

            chartOutput.innerHTML = `<h4>Current Workout Progression (Compared to last entry):</h4><pre>${outputText}</pre><p>Legend: ‚ñ≤ Improved / * Changed / ‚ñº Decreased</p><button onclick="compareWorkouts()">Show Last Week's Progression</button>`;
        }


        // --- MEAL GENERATOR LOGIC ---

        const MEAL1_RECIPES = {
            Scramble: "Savory Breakfast Sandwich: Scramble the **egg whites (275g)** and **whole eggs (3)** with pepper. Spread the **Philadelphia (30g)** on the toasted **sourdough (50g)**. Top with the creamy eggs. Eat **banana (100g)** on the side.",
            FrenchToast: "Sweet Protein Toast: Mix eggs/whites with cinnamon and a splash of water. Dip the **sourdough (50g)** and cook. Use **Philadelphia (30g)** as a creamy topping, then slice the **banana (100g)** over the top.",
            SavoryToast: "Savory & Zesty Eggs: Slice the hard-boiled **whole eggs (3)**. Mix the **egg whites (275g)** into the **Philadelphia (30g)** for a spread. Add pepper and cayenne. Spread on **sourdough (50g)**. Eat **banana (100g)** separate.",
        };
        
        const MEAL2_3_RECIPES = {
            M2: { 
                Savory: "Chicken Fried Rice: Fry diced **chicken (225g)** with garlic, onion powder, and **5g olive oil**. Add cooked **rice (125g)** and **vegetables (60kcal)**. Stir-fry until heated.",
                Spicy: "Spicy Chicken Stir-fry: Cube **chicken (225g)** and coat in chili powder, paprika, and a dash of hot sauce (zero-cal). Stir-fry in **5g olive oil**. Serve over **rice (125g)** with steamed vegetables.",
                Fresh: "Lemon-Herb Chicken Bowl: Grill **chicken (225g)**. Mix **5g olive oil** with lemon juice, oregano, and parsley. Pour over warm **rice (125g)** and steamed vegetables.",
            },
            M3: { 
                Savory: "Pork & Thyme Mash: Brown **pork mince (225g)** in **5g olive oil** with dried thyme. Serve alongside steamed or mashed **baby potatoes (320g)** and **green veg (100g)**.",
                Spicy: "Spicy Mince Tacos (Bowl): Brown **mince (225g)** in **5g olive oil** with chili powder, cumin, and cayenne. Cube the **potatoes (320g)**. Mix the potatoes, mince, and **green veg (100g)** in a bowl.",
                Fresh: "Pork Mince Skewers & Potatoes: Mix **mince (225g)** with dried mint and lemon zest. Cook in **5g olive oil**. Serve with boiled **potatoes (320g)** and grilled **asparagus (100g)**.",
            },
        };

        const MEAL4_RECIPES = {
            Hot: "Warm Protein Oats: Combine **oats (80g)** and water/milk. Cook until done. Mix in **whey protein (50g)** *after* cooking. Top with **frozen blueberries (100g)** and **dark chocolate (20g)**.",
            Cold: "Overnight Oats: The night before, mix **oats (80g)**, **whey protein (50g)**, and water/milk. Refrigerate. In the morning, top with **frozen blueberries (100g)** and **dark chocolate (20g)**.",
            Baked: "Protein Baked Oats: Blend **oats (80g)**. Mix with **whey protein (50g)**, water/milk, and baking powder. Stir in **blueberries (100g)**. Bake/microwave until set. Melt **dark chocolate (20g)** on top.",
        };

        function generateMeal1() {
            const prep = document.getElementById('meal1-prep').value;
            const outputDiv = document.getElementById('meal1-output');

            if (prep) {
                const recipeText = MEAL1_RECIPES[prep];
                outputDiv.innerHTML = `<h4>Your Meal 1 Idea:</h4><p>**${prep} Style:** ${recipeText}</p>`;
            } else {
                outputDiv.innerHTML = '<h4>Your Meal 1 Idea:</h4><p>Select a prep style to generate a recipe idea!</p>';
            }
        }
        
        function generateRecipe() {
            const meal = document.getElementById('meal-selection').value;
            const flavor = document.getElementById('flavor-selection').value;
            const outputDiv = document.getElementById('recipe-output');

            if (meal && flavor) {
                const recipeText = MEAL2_3_RECIPES[meal][flavor];
                outputDiv.innerHTML = `<h4>Your Custom Recipe:</h4><p>**${flavor} ${meal} Idea:** ${recipeText}</p>`;
            } else {
                outputDiv.innerHTML = '<h4>Your Custom Recipe:</h4><p>Select both a meal and a flavor to generate a recipe idea!</p>';
            }
        }

        function generateMeal4() {
            const texture = document.getElementById('meal4-texture').value;
            const outputDiv = document.getElementById('meal4-output');

            if (texture) {
                const recipeText = MEAL4_RECIPES[texture];
                outputDiv.innerHTML = `<h4>Your Meal 4 Idea:</h4><p>**${texture} Style:** ${recipeText}</p>`;
            } else {
                outputDiv.innerHTML = '<h4>Your Meal 4 Idea:</h4><p>Select a temperature/texture to generate your protein oats!</p>';
            }
        }
    </script>
</div>

</body>
</html>
